 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TS Task Master</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        .task-done {
            text-decoration: line-through;
            opacity: 0.6;
        }
    </style>
</head>
<body class="bg-slate-50 min-h-screen font-sans text-slate-900">

    <div class="max-w-md mx-auto py-10 px-4">
        <header class="mb-8 text-center">
            <h1 class="text-3xl font-bold text-indigo-600 mb-2">Task Master</h1>
            <div id="quote-container" class="italic text-sm text-slate-500 min-h-[40px] flex items-center justify-center">
                <span id="quote-text">Loading inspiration...</span>
            </div>
        </header>
        <section class="bg-white rounded-xl shadow-md p-6 mb-6">
            <form id="todo-form" class="space-y-4">
                <div>
                    <label for="task-input" class="block text-xs font-semibold uppercase tracking-wider text-slate-400 mb-1">New Task</label>
                    <input 
                        type="text" 
                        id="task-input" 
                        placeholder="What needs to be done?" 
                        class="w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all"
                    >
                    <p id="error-message" class="text-red-500 text-xs mt-1 hidden">Please enter at least 3 characters.</p>
                </div>
                <button 
                    type="submit" 
                    id="submit-btn"
                    class="w-full bg-indigo-600 text-white font-medium py-2 rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                    <span>Add Task</span>
                </button>
            </form>
        </section>

        <section>
            <div class="flex justify-between items-center mb-4">
                <h2 class="font-bold text-slate-700">Your Tasks</h2>
                <button id="clear-all" class="text-xs text-slate-400 hover:text-red-500 transition-colors uppercase tracking-widest font-bold">Clear All</button>
            </div>
            <ul id="todo-list" class="space-y-3">
            </ul>
        </section>
    </div>

    <script type="module">
        let todos = [];
        let editingId = null;
        const form = document.getElementById('todo-form');
        const input = document.getElementById('task-input');
        const list = document.getElementById('todo-list');
        const errorMsg = document.getElementById('error-message');
        const quoteText = document.getElementById('quote-text');
        const clearBtn = document.getElementById('clear-all');
        const submitBtn = document.getElementById('submit-btn');

        async function fetchQuote() {
    try {
        const response = await fetch('https://dummyjson.com/quotes/random');
        if (!response.ok) throw new Error('Network response was not ok');
        const data = await response.json();
        quoteText.textContent = `"${data.quote}" â€” ${data.author}`;
    } catch (error) {
        quoteText.textContent = "Stay focused and get things done!";
    }
}
        function saveToLocalStorage() {
            localStorage.setItem('ts-task-master-data', JSON.stringify(todos));
        }

        function loadFromLocalStorage() {
            const saved = localStorage.getItem('ts-task-master-data');
            if (saved) {
                todos = JSON.parse(saved);
                renderTodos();
            }
        }

        function renderTodos() {
            list.innerHTML = '';
            
            if (todos.length === 0) {
                list.innerHTML = `
                    <li class="text-center py-8 text-slate-400 text-sm italic">
                        No tasks yet. Start by adding one above!
                    </li>
                `;
                return;
            }

            todos.forEach(todo => {
                const li = document.createElement('li');
                li.className = 'bg-white p-4 rounded-lg shadow-sm border border-slate-100 flex items-center justify-between group animate-in fade-in slide-in-from-bottom-2 duration-300';
                
                li.innerHTML = `
                    <div class="flex items-center gap-3 overflow-hidden mr-2">
                        <input 
                            type="checkbox" 
                            ${todo.completed ? 'checked' : ''} 
                            class="w-5 h-5 rounded text-indigo-600 focus:ring-indigo-500 cursor-pointer shrink-0"
                        >
                        <span class="${todo.completed ? 'task-done text-slate-400' : 'text-slate-700'} font-medium transition-all truncate">
                            ${todo.text}
                        </span>
                    </div>
                    <div class="flex items-center gap-2 shrink-0">
                        <button class="edit-btn text-slate-300 hover:text-indigo-500 opacity-0 group-hover:opacity-100 transition-all">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
                        </button>
                        <button class="delete-btn text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
                        </button>
                    </div>
                `;

        
                li.querySelector('input').addEventListener('change', () => toggleTodo(todo.id));
                li.querySelector('.edit-btn').addEventListener('click', () => startEdit(todo));
                li.querySelector('.delete-btn').addEventListener('click', () => deleteTodo(todo.id));

                list.appendChild(li);
            });
        }

        function startEdit(todo) {
            editingId = todo.id;
            input.value = todo.text;
            input.focus();
            submitBtn.querySelector('span').textContent = 'Update Task';
            submitBtn.classList.replace('bg-indigo-600', 'bg-emerald-600');
            submitBtn.classList.replace('hover:bg-indigo-700', 'hover:bg-emerald-700');
        }

        function cancelEdit() {
            editingId = null;
            input.value = '';
            submitBtn.querySelector('span').textContent = 'Add Task';
            submitBtn.classList.replace('bg-emerald-600', 'bg-indigo-600');
            submitBtn.classList.replace('hover:bg-emerald-700', 'hover:bg-indigo-700');
        }

        function addTodo(text) {
            const newTodo = {
                id: crypto.randomUUID(),
                text: text,
                completed: false,
                createdAt: new Date().toISOString()
            };
            todos.unshift(newTodo);
            saveToLocalStorage();
            renderTodos();
        }

        function updateTodo(id, text) {
            todos = todos.map(t => t.id === id ? { ...t, text } : t);
            saveToLocalStorage();
            renderTodos();
            cancelEdit();
        }

        function toggleTodo(id) {
            todos = todos.map(t => t.id === id ? { ...t, completed: !t.completed } : t);
            saveToLocalStorage();
            renderTodos();
        }

        function deleteTodo(id) {
            if (editingId === id) cancelEdit();
            todos = todos.filter(t => t.id !== id);
            saveToLocalStorage();
            renderTodos();
        }
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const val = input.value.trim();

            if (val.length < 3) {
                errorMsg.classList.remove('hidden');
                input.classList.add('border-red-500', 'ring-red-100');
                return;
            }

            errorMsg.classList.add('hidden');
            input.classList.remove('border-red-500', 'ring-red-100');
            
            if (editingId) {
                updateTodo(editingId, val);
            } else {
                addTodo(val);
                input.value = '';
            }
        });

        clearBtn.addEventListener('click', () => {
            if (todos.length > 0 && confirm('Clear all tasks?')) {
                todos = [];
                editingId = null;
                saveToLocalStorage();
                renderTodos();
                cancelEdit();
            }
        });

        window.onload = () => {
            loadFromLocalStorage();
            fetchQuote();
        };
    </script>
</body>
</html> 